## 1.1
### 1.1.1 功能描述：
### 1.1.2 用户交互：
### 1.1.3 客户端实现：
### 1.1.4 后台实现：
### 1.1.5 数据
### 1.1.6 开发分配
### 1.1.7 备注

# 1. APP主要界面

## 1.1 引导页面
### 1.1.1 功能描述：主要是介绍APP，吸引用户；显示几张高清食品图片和动画卡通人物形象（老人、孩子、孕妇、健身认识等），旁边有几个问题：咋吃啊？吃啥呢? 怎样吃才健康？
### 1.1.2 用户交互：进入APP系统时；显示5张图片，用户通过左右滑动进行浏览，当滑动到最右边的一张图片时，显示一个按钮进入app。
### 1.1.3 客户端实现：
    － 获取系统是否已经更新图片的接口，判断是否需要请求后台图片。
    － 调用后台获取引导页的图片，并存储在本地，包括存储更新标示。
    － 显示引导页的图片，并完成用户的交互。
### 1.1.4 后台实现：
－ 提供接口
        － 获取引导页面的所有图片，这些图片已经拍好序。
        － 获取图片是否已经更新
### 1.1.5 数据
－ 图片来源：目前没有（开发人员提供）
－ 数据表：sys_introduce

### 1.1.6 开发分配
 － 人员：
 － 时间：
 － 完成日期：


#2. APP首页

## 2.1 广告区
### 2.1.1 功能描述：显示热点新闻或广告，定期更换显示的内容。主要是通过一条文字介绍＋缩略图来展现。
### 2.1.2 用户交互：用户可以通过上下滑动来实现新闻／广告的浏览。用户可以点击阅读新闻或广告详情。
### 2.1.3 客户端实现：
－ 获取系统是否已经更新新闻／广告的接口，判断是否需要请求后台新闻／广告。
－ 如果更新了，调用后台API，获取系统的新闻／广告，并存储在本地，包括存储更新标示。
－ 显示引导页的图片，并完成用户的交互。
### 2.1.4 后台实现：
－ 从数据库中获取ADs，并判断是否已经更新，如果更新，插入到app后台的数据库
-  查询app后台获取页面的所有ADs，返回给客户端。这些ADs已经拍好序。
－ 获取ADs是否已经更新

### 2.1.5 数据
－ 新闻／广告来源：*==公司提供==*
－ 数据表：sys_ads
### 2.1.6 开发分配
－ 人员：
－ 时间：
－ 完成日期：
### 2.1.7 备注
数据来源：来源于爬虫，
注意：用户点击ADs，离开app的业务逻辑，客户端要考虑实现，还有返回。


### 2.2 数据监控区
### 2.2.1 功能描述：
－ 系统提供可选择的监控，用户选择添加或删除自己的监控；
－ 用户上传自己添加监控的数据
－ 客户端根据用户上传的数据，画出折线图展示，用户的监控的数据。
### 2.2.2 用户交互：用户选择添加删除我的监控，用户上传我的监控数据，用户查看我的监控。
### 2.2.3 客户端实现：
－ 调用app后台，获取我的监控和系统监控
－ 显示我选择的监控
－ 显示系统监控和我的监控，供用户选择
－ 上传用户选择或取消监控操作
－ 上传用户监控数据
－ 查询我的监控数据，并画图展示
－ 合理处理用户上传失败的处理，确保不能丢失用户数据。
－ 实现用户的交互
### 2.2.4 后台实现：
－ 提供设置系统监控接口，设置系统监控
－ 提供删除系统监控接口，删除系统监控
－ 提供查询系统监控接口，查询系统监控
－ 提供用户添加监控接口，数据表中添加用户监控
－ 提供用户删除监控接口，删除用户监控
－ 提供用户上传监控数据，记录用户监控数据
－ 提供查询用户监控数据，根据一段时间段查询数据
－ 提供监控图标管理功能
### 2.2.5 数据
－ 图标来源，前端提供。
－ 数据表：user_goal sys_monitor user_monitor
### 2.2.6 开发分配
－ 人员：
－ 时间：
－ 完成日期：
### 2.2.7 备注
问题一：用户上传监控数据错误，怎么去设限
问题二：用户上传数据失误怎么去更改，
问题三：用户能否撤销上传的数据
问题四：图标服务器上管理需要设密
问题五：用户多次操作同一监控，历史数据怎么处理，还会展示吗？展示多久


## 2.3 智能提示区

### 2.3.1 功能描述：
### 2.3.2 用户交互：
### 2.3.3 客户端实现：
### 2.3.4 后台实现：
### 2.3.5 数据
### 2.3.6 开发分配
－ 人员：
－ 时间：
－ 完成日期：
### 2.3.7 备注

- 功能描述：推知识给用户，例如安全食物和查询
- 想法：
1. 提供基础医疗知识和养生知识的信息，或是国家食品监督局发布的食物抽检不合格新闻。
1. 提供用户查询按钮，查询食物的营养成分、菜谱的做法和营养成分以及和饮食安全、健康相关的信息

- 实现：
1. 通过抓取一些健康网站里的头条新闻或是和用户经常摄入食物相关新闻的标题和URL存到数据库，获取的新闻在后端经过分类后计算和饮食健康的相关性系数，按照日期+相关性系数大小的顺序进行排列，向用户推送
1. 查询按钮。输入食物、食材的名称，可以查询食物、食材的营养成分。和下面的营养成分查询共用界面。

- 数据源：
1. 系统从以下来源自动获取饮食健康相关的新闻知识：
   - [搜狐健康/营养配餐 ](http://health.sohu.com/yingyangpeican/)
   - [凤凰网/健康/饮食](http://fashion.ifeng.com/listpage/5318/1/list.shtml)
   - [妈妈网 ]( http://www.mama.cn/)
   - [腾讯网-营养学校](http://baby.qq.com/l/yingjiang/list201407291735.htm)
   - [天天营养网](http://www.51ttyy.com/)
   - [国家食品药品监督总局](http://app1.sfda.gov.cn/datasearch/face3/dir.html)

1. 营养成分
   1. A食材营养成分表。
    根据《中国食物成分表2012年修正版》查询食物的营养成分，包括1284个食品的营养成分表。数据来源于中国疾病控制中心辖下的营养与食品安全研究所(CFC2012ED2）。根据香港食环署网站上发布的数据查询食物的营养成分，包括7587食物的营养成分表。
    1. B菜肴营养成分表
    查询各种菜肴的营养成分，目前的菜肴的营养成分主要包括能量、蛋白质、脂肪、膳食纤维、碳水化合物5中营养元素。菜肴的数据中包含菜肴的制作方法，可以根据制作方法中的原材料（主料、辅料和调料）自动计算菜肴的营养成分（特别是营养元素），计算时可以不考虑各种材料混合时不同烹饪方式时营养元素的损失。这些数据库已有。
1.  A和B的说明

    在查询A和B中的食物营养成分时，由于A和B中数据来源提供的营养素成分不完整，因此应提供以下进一步查询的方法：
    1. 更多营养成分。连接美国农业部提供的SR26查询食物的更多营养成分
    1. 查询详细信息。使用百度百科来查询食物的详细信息。目前系统中包含2776中菜肴（主要数据来自薄荷网，该网站的手机APP可以提供菜肴的详细营养成分），更多菜肴数据可以参见[天天美食](http://www.ttmeishi.com/CaiXi/)和[豆果美食](http://www.douguo.com/)提供的菜肴的详细信息查询，可以通过百度百科查询该菜肴的详细信息。

## 1.3 监控
- 想法：监控用户的

用户特征：

体重
围度（主要是腰围、胸围、大腿围）
血氧
血糖等

用户可以自己选择添加或删除以下指标

体重

围度

血氧

心率

体温

血压

血糖

胆固醇

   ==营养素（来源食物）==
- 实现：不清楚

- 数据源：

1. 手工输入

    手工输入时首先按月显示日历，并将对应的数据显示在下方。输入时可以输入之前任意一天的数据，并可以显示数据的趋势图。

1. 连接对应设备自动获取

    连接设备自动获取默认从GOOGLEFIT和HEALTHKIT中获取的数据（这样可以减少和不同设备之间的数据接口）。基本确定能获取的数据包括运动步数。连接设置自动获取数据时，一般首先是选择设别类型，然后再根据设备参数获取数据。

    **（第一期先完成数据的手工输入）**

	以上这些数据具有不同的监控特征：

		体重：一般是一天测量一次

		围度：一般是一天测量一次

		血氧和心率：可以根据需要一天测量多次

		血压：根据需要一天测量很多次

		体温：根据需要一天测量很多次

		血糖：根据需要测量很多次，一般为凌晨、早餐前后、午餐前后、晚餐前后，

## 1.4 附近饮食
- 功能描述：显示附近的餐馆
- 实现：调用百度Map的API显示

## 1.5 我的

记录和维护用户的账户设备和个性化资料，包括：

### 1.5.1 我的账户

1. 记录用户的个人账户信息，包括但不限于：用户名、密码、头像、真实姓名(选填)、身份证号码(选填，支持身份证扫描功能)、电子邮件地址、账户类型（支持微信、微博和QQ登录）、性别、出生日期（选填）、年龄、手机号码（手机号码提供验证功能）、
1. 身高、体重、体力活动水平、过敏（谷蛋白、花粉、花生，可以设置其他过敏物质(从食物成分中选取)）、是否测量围度、是否测量胆固醇等。
说明：
	用户资料分为 账户资料 和 个人资料两个选项，其中账户资料部分包括用户名、密码、头像、电子邮件地址、账户类型；其余信息为个人资料。
### 1.5.2 我的目标

- 功能描述：(选择目标，例如减肥、养生)
- 想法：目标包括以下设置：体重目标、体重目标达成日期、每周减重量
- 实现：跟踪用户以往食物中糖分、蛋白质等等的摄入量，推荐每天各种糖类、蛋白质等等的含量(g)。注意若是身体有疾的人群，则要根据不同人群推荐
- 数据源：
    1. 心血管健康(低脂肪和肉类摄入、食物丰富性、全谷物食品低胆固醇饮食（低胆固醇和低的饱和脂肪）
    1. 降血压饮食（低钠、低脂肪和肉类、饮食多样性, 全谷物食品）
    1. 孕期饮食
    1. 哺乳期饮食
    1. 饮食偏好
        1. 非转基因食品(GMO)
        1. 清真饮食
        1. FOLLOW PALEO DIET（原始饮食）
        1. 素食者
        1. 喜欢某类食品

### 1.5.3 我的收藏
- 功能描述：收藏新闻

### 1.5.4 上传检查数据生成
用户上传、下载以下类型的报告，

母乳分析报告（已有数据）

居民健康体检报告

其中上传数据指用户手工输入数据，下载报告生成指定格式的PDF文件报告（报告的格式已经有对应纸质版本）
### 1.5.5 我的报告
健康报告，偏离目标我的数据按天、周列出用户摄入的能量和消耗的能量

### 1.5.6 我的食谱
- 按周给出系统推荐给我用户的食谱，菜谱的格式为:

		早餐，提供链接查询明细
		中餐，提供链接查询明细
		晚餐，提供链接查询明细
		该天能量总和

### 1.5.7 联系客服
- 实现：直接打开通话界面（自动录入客服界面）或者直接打开公司的售后服务网络地址
### 1.5.8 关于
- 功能描述：

提供功能介绍、APP信息（版本号、版本日期）、更新检查等



# 2 系统关键功能

## 2.1 运动来源
一般可以获取到用户的运动步数。
- 从GOOGLE FIT和HEALTHKIT中获取的数据。

    目前GOOGLE FIT由于目前该服务被强，无法验证可以获取哪些数据；
- HEALTHKIT中获取的数据

    苹果的HEALTHKIT由于目前没有IPHONE5S以上的手机，没有实际测试时候可以获取数据，但从相关文档分析时可以的
## 2.2 录入食物
- 录入方式

分早餐、午餐和晚餐分别录入食物，录入食物的方式有以下几种：
1. 扫描识别食物（食品包装）:扫描条码系统自动获取食物名称
1. 拍照识别食物: 拍照食物系统自动识别食物名称
1. 手工录入: 录入食物名称、重量等

- 录入食物时：

    在录入食物时，需要估算食物的重量，设计方法如下：
	如果录入的是菜肴，则提供用户估算重量的指引页面(参考薄荷的录入食物页面)，录入是的是包装食品，则根据包装食品的信息自动计算保包装食品的重量.

位置：在页面的顶部显示用户已摄入的能量总量（还剩余多少能量总量），

如果用户特别关注某一类营养素，则使用该营养素替换能量。

完成食物的录入后可以分析用户当天的饮食情况，包括:

	能量摄入是否合适

	三餐比例是否均衡

	三大营养比例是否合理

	微量营养元素的摄入是否合适

	最后评分

录入食物的页面可以参考《薄荷App的饮食&运动记录》

- 备注

	早餐热能和各种营养素的供给量约占全日总需要量的30%左右，午餐占40%，晚餐占30%。

	每人每天约需2000-2400千卡热能摄入，其中12-15%的能量来自蛋白质，25-30%来自脂肪，60-65%来自碳水化合物

## 2.3 运动录入
录入用户的运动信息。
## 2.4 食谱推荐
食谱推荐时需考虑的主要因素：

1. 营养数据
1. 用户的个体数据
1. 用户用在的位置及其气候因素

- 三餐配餐营养标准:

    根据“中国居民膳食营养素参考摄入量”的标准宝宝营养食谱幼儿营养食谱，设计出平均每人每天对各种营养素的需要量来进行配餐。早餐热能和各种营养素的供给量约占全日总需要量的30%左右，午餐占40%，晚餐占30%。每人每天约需2000-2400千卡热能摄入，其中12-15%的能量来自蛋白质，25-30%来自脂肪，60-65%来自碳水化合物。

1. 配制原则：

    - 食物多样，粮谷为主，保证乳类、蛋类，增加蔬菜、水果
    - 保证吃好早餐，吃饱午餐，吃少晚餐，三餐比为3:4:3。
    - 少吃零食，少饮用含糖及碳酸类饮料，控制食糖的摄入。
    - 每日饮奶和喝6-8杯水。
　　
1. 全天用油均建议用色拉油25克。

以下按一周为单位，为您推荐几套一日三餐健康食谱

　　第一套一日三餐健康食谱：
　　
- 	星期一


	早餐：馒头，牛奶（或豆奶）、煮荷包蛋1个、酱黄瓜。

	中餐：米饭、香菇菜心、糖醋带鱼、丝瓜汤。

	晚餐：绿豆粥、白菜猪肉包子、虾皮冬瓜。

- 　　星期二
　　
　　
	早餐：窝窝头、牛奶（或豆奶）、卤蛋1个、豆腐乳

	中餐：米饭、肉末茄子、鸭子海带汤。

	晚餐：干煸豆角、稀饭、豆沙包、青椒肉丝。

- 　　星期三

　　
	早餐：肉包子、牛奶（或豆奶）、咸鸭蛋（半个）。

	中餐：馒头、黄豆烧牛肉、干煸四季豆、鸡蛋汤。

	晚餐：炒面、清炒菠菜、青椒土豆丝。

- 　　星期四

　　
	早餐：花卷、牛奶（或豆奶）、煮荷包蛋1个

	中餐：米饭 、黑木耳肉片、红烧平鱼、白萝卜海带排骨汤。

	晚餐：豆浆或稀饭、葱花饼、青椒芹菜肉丝。

- 　　星期五
　　

	早餐：菜包子、牛奶（或豆奶）、

	中餐：米饭、炒菜花、辣子鸡丁，香菇青菜汤。

	晚餐：芹菜肉包子、西红柿炒鸡蛋、肉末烧豆腐。
		
- 　　星期六

　　
	早餐：面包、牛奶（或豆奶）、煎鸡蛋1个

	中餐：米饭、五香鱼、黄豆芽炒胡萝卜、香菇汤。

	晚餐：馒头，玉米粥、番茄炒蛋、鱼香肉丝。

- 	星期天


	早餐：花卷、牛奶（或豆奶）、煮鸡蛋1个

	中餐：米饭 黑木耳炒鸡丁、糖醋白菜、南瓜汤。

    晚餐：韭菜猪肉饺子、豆豉油麦菜、肉末炒豇豆
